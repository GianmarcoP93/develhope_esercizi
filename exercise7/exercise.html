<html>
  <body>
    <div id="container" style="display: flex; align-items: center"></div>
  </body>
</html>

<script>
  const $container = document.getElementById("container");

  state = {
    post: [],
  };

  const fetchData = async () => {
    const response = await fetch(
      "https://jsonplaceholder.typicode.com/todos/4"
    );
    try {
      if (response.ok) {
        const data = await response.json();
        state.post = data;
      } else {
        console.log(response);
      }
    } catch (error) {
      console.log(error);
    }
  };

  const generateTemplateHTML = (post) => {
    return `
    <h2>${post.title}</h2>
    `;
  };

  const renderHTML = () => {
    const HTML = generateTemplateHTML(state.post);
    $container.innerHTML = HTML;
  };

  const generateCheckBox = (post) => {
    const checkbox = document.createElement("input"); //creo un elemento (in questo caso input)
    checkbox.type = "checkbox"; //setto il tipo dell'elemtno (in questo caso checkbox)
    checkbox.checked = post.completed; //checked = proprietÃ  booleana dell'elemento input
    $container.appendChild(checkbox); // appendChild dico di mettere checkbox all'interno del div $container
  };

  const init = async () => {
    await fetchData();
    renderHTML();
    generateCheckBox(state.post); //indico dove sono immagazinati i dati
  };

  init();
</script>
